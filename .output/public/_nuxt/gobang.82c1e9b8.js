import g from"./index.53e1cb7e.js";import{a as b,o,f as c,k as r,j as v,w as k,t as a,V as _,Z as p,m as T,h as C,a5 as D,a6 as W}from"./entry.e6c3838a.js";/* empty css                                              */const f=15;let y=[];for(let t=0;t<f;t++)y.push(new Array(f).fill(""));const x={data(){return{cells:y,historyCells:[],player1:"\u26AB",player2:"\u{1F7E2}",turn:"",winner:"",isDraw:!1}},mounted(){this.turn=this.player1},computed:{isEmptyHistory(){return this.historyCells.length===0},isWin(){return this.winner.length!==0}},methods:{checkChess(t,e){if(this.isOccupied(t,e))console.log("\u8BE5\u4F4D\u7F6E\u5DF2\u88AB\u5360\u7528");else{const l=this.turn;this.switchTurn();const n=this.cells.map(s=>s.slice());this.historyCells.push(n),this.cells[t][e]=l,this.checkWin(l)}},isOccupied(t,e){return this.cells[t][e]!==""},switchTurn(){this.turn===this.player1?this.turn=this.player2:this.turn=this.player1},checkWin(t){for(let e of this.cells)for(let l=0;l<e.length-4;l++)e.slice(l,l+5).every(n=>n===t)&&(this.winner=t);for(let e=0;e<this.cells.length-4;e++)for(let l=0;l<this.cells.length;l++)this.cells.map((s,i)=>s[l]).slice(e,e+5).every(s=>s===t)&&(this.winner=t);for(let e=0;e<this.cells.length-4;e++)for(let l=0;l<this.cells.length-4;l++){let n=[];for(let s=0;s<5;s++)n.push(this.cells[e+s][l+s]);n.every(s=>s===t)&&(this.winner=t)}for(let e=4;e<this.cells.length;e++)for(let l=0;l<this.cells.length-4;l++){let n=[];for(let s=0;s<5;s++)n.push(this.cells[e-s][l+s]);n.every(s=>s===t)&&(this.winner=t)}},refreshMap(){console.log("refresh");let t=new Array;for(let e=0;e<15;e++)t.push(new Array(15).fill(""));this.cells=t,this.historyCells=[],this.winner="",this.turn=this.player1,this.isDraw=!1},lastTurn(){this.cells=this.historyCells.pop(),this.switchTurn(),this.winner="",this.isDraw=!1},draw(){this.isDraw=!0}}},M=t=>(D("data-v-0c7a00e9"),t=t(),W(),t),S={class:"title"},V={key:0},A=M(()=>r("h3",null,"\u{1F91C}\u{1F91B} Draw. Let's have another round!",-1)),B=[A],E={key:1},L={key:2},N={class:"buttonPanel"},Z=["disabled"],G=["disabled"],H={class:"mapContainer"},I={class:"chessMap"},O=["onClick"];function R(t,e,l,n,s,i){const w=g;return o(),c("div",null,[r("div",S,[v(w,{h1:""},{default:k(()=>[T("Gobang Game")]),_:1}),s.isDraw?(o(),c("span",V,B)):i.isWin?(o(),c("span",L,[r("h3",null,"\u{1F389} The winner is "+a(s.winner)+", Let's have another round!",1)])):(o(),c("span",E,[r("h3",null," It's "+a(s.turn)+" 's turn, \u23F3 Round "+a(parseInt(s.historyCells.length/2)+1),1)]))]),r("div",N,[r("button",{class:"btn green",onClick:e[0]||(e[0]=(...h)=>i.refreshMap&&i.refreshMap(...h))},"Restart"),r("button",{class:"btn blue",onClick:e[1]||(e[1]=(...h)=>i.draw&&i.draw(...h)),disabled:i.isWin},"Draw",8,Z),r("button",{class:"btn orange",onClick:e[2]||(e[2]=(...h)=>i.lastTurn&&i.lastTurn(...h)),disabled:i.isEmptyHistory}," Undo ",8,G)]),r("div",H,[r("div",I,[(o(!0),c(_,null,p(s.cells,(h,u)=>(o(),c("div",{key:u,class:"row"},[(o(!0),c(_,null,p(h,(m,d)=>(o(),c("div",{class:C([{disabled:i.isWin,red:s.turn===s.player2},"cell"]),key:d,onClick:j=>!i.isWin&&i.checkChess(u,d)},a(m),11,O))),128))]))),128))])])])}const U=b(x,[["render",R],["__scopeId","data-v-0c7a00e9"]]);export{U as default};
